{"id":"2518256100","type":"IssueCommentEvent","actor":{"id":67958,"login":"johnynek","gravatar_id":"","url":"https:\/\/api.github.com\/users\/johnynek","avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/67958?"},"repo":{"id":5275507,"name":"twitter\/algebird","url":"https:\/\/api.github.com\/repos\/twitter\/algebird"},"payload":{"action":"created","issue":{"url":"https:\/\/api.github.com\/repos\/twitter\/algebird\/issues\/390","labels_url":"https:\/\/api.github.com\/repos\/twitter\/algebird\/issues\/390\/labels{\/name}","comments_url":"https:\/\/api.github.com\/repos\/twitter\/algebird\/issues\/390\/comments","events_url":"https:\/\/api.github.com\/repos\/twitter\/algebird\/issues\/390\/events","html_url":"https:\/\/github.com\/twitter\/algebird\/pull\/390","id":53162309,"number":390,"title":"CMSItems","user":{"login":"avibryant","id":9892,"avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/9892?v=3","gravatar_id":"","url":"https:\/\/api.github.com\/users\/avibryant","html_url":"https:\/\/github.com\/avibryant","followers_url":"https:\/\/api.github.com\/users\/avibryant\/followers","following_url":"https:\/\/api.github.com\/users\/avibryant\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/avibryant\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/avibryant\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/avibryant\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/avibryant\/orgs","repos_url":"https:\/\/api.github.com\/users\/avibryant\/repos","events_url":"https:\/\/api.github.com\/users\/avibryant\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/avibryant\/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"milestone":null,"comments":16,"created_at":"2014-12-31T01:57:25Z","updated_at":"2015-01-16T20:41:52Z","closed_at":null,"pull_request":{"url":"https:\/\/api.github.com\/repos\/twitter\/algebird\/pulls\/390","html_url":"https:\/\/github.com\/twitter\/algebird\/pull\/390","diff_url":"https:\/\/github.com\/twitter\/algebird\/pull\/390.diff","patch_url":"https:\/\/github.com\/twitter\/algebird\/pull\/390.patch"},"body":"Adds a `CMSItems[K]` implementation of `CMS[K]` which, like `CMSItem[K]`, is exact, but for a small set of keys instead of just one.\r\n\r\nYou can add `CMSItem` and `CMSItem` or `CMSItems` and `CMSItems` and get a `CMSItems`. At a certain threshold (currently set to 100 items), this will transition to a `CMSInstance[K]`.\r\n\r\nI haven't updated the TopN or TopPct variants, just the basic CMS.\r\n\r\nI have a specific need for this, but it seems like a generally useful optimization. It could *probably* entirely replace `CMSItem` but I wouldn't want to do that without benchmarking first, which I have not done.\r\n\r\nThoughts @johnynek @miguno?"},"comment":{"url":"https:\/\/api.github.com\/repos\/twitter\/algebird\/issues\/comments\/70318884","html_url":"https:\/\/github.com\/twitter\/algebird\/pull\/390#issuecomment-70318884","issue_url":"https:\/\/api.github.com\/repos\/twitter\/algebird\/issues\/390","id":70318884,"user":{"login":"johnynek","id":67958,"avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/67958?v=3","gravatar_id":"","url":"https:\/\/api.github.com\/users\/johnynek","html_url":"https:\/\/github.com\/johnynek","followers_url":"https:\/\/api.github.com\/users\/johnynek\/followers","following_url":"https:\/\/api.github.com\/users\/johnynek\/following{\/other_user}","gists_url":"https:\/\/api.github.com\/users\/johnynek\/gists{\/gist_id}","starred_url":"https:\/\/api.github.com\/users\/johnynek\/starred{\/owner}{\/repo}","subscriptions_url":"https:\/\/api.github.com\/users\/johnynek\/subscriptions","organizations_url":"https:\/\/api.github.com\/users\/johnynek\/orgs","repos_url":"https:\/\/api.github.com\/users\/johnynek\/repos","events_url":"https:\/\/api.github.com\/users\/johnynek\/events{\/privacy}","received_events_url":"https:\/\/api.github.com\/users\/johnynek\/received_events","type":"User","site_admin":false},"created_at":"2015-01-16T20:41:52Z","updated_at":"2015-01-16T20:41:52Z","body":"We're about to publish. Is this ready to merge?\r\n\r\n@avibryant can you merge with develop? @miguno what do you say? does this have your :+1: ?"}},"public":true,"created_at":"2015-01-16T20:41:54Z","org":{"id":50278,"login":"twitter","gravatar_id":"","url":"https:\/\/api.github.com\/orgs\/twitter","avatar_url":"https:\/\/avatars.githubusercontent.com\/u\/50278?"}}